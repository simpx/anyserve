syntax = "proto3";

package anyserve;

// Main inference service exposed by Rust Runtime
service AnyServe {
  // Core inference interface
  rpc Infer (InferRequest) returns (InferResponse);
}

message InferRequest {
  string capability = 1;      // e.g., "small", "large"
  bytes inputs = 2;           // Input data as bytes or JSON string
  repeated string input_refs = 3; // Associated Object IDs (file paths)
}

message InferResponse {
  bytes output = 1;
  repeated string output_refs = 2;  // Output Object IDs for large data
  bool delegated = 3;         // Indicates if request was delegated (for debugging)
}
